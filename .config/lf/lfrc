set ifs "\n"
set previewer ~/.config/lf/preview
set cleaner ~/.config/lf/cleaner
set hiddenfiles ".*:!.config:!.local:!.bashrc:!.profile:!.aliases:*.log:*.aux:!.zprofile:!.zshrc:cmark:mid3*:mutagen*:pygmentize:pytube:unidecode:moggsplit:tqdm:spotdl:yt-dlp"
set icons
cmd open ${{
    case $(file --mime-type "$f" -b) in
	image/vnd.djvu|application/pdf|application/octet-stream) setsid -f zathura $fx ;;
        text/*) $EDITOR "$f" ;;
        application/json) $EDITOR "$f" ;;
	audio/*) setsid -f mpv --no-terminal "$f"  ;;
	video/*) setsid -f mpv --no-terminal "$f"  ;;
	image/gif) setsid -f mpv --no-terminal "$f" ;;
	image/*) lfsxiv "$f" ;;
	application/vnd.openxmlformats-officedocument*) setsid -f libreoffice "$f" ;;
        *) for f in $fx; do setsid -f $OPENER "$f" >/dev/null 2>&1; done;;
    esac
}}

cmd chmod ${{
	if [[ "$1" = "minus" ]]; then
	chmod -x $fx
	else
	chmod +x $fx
	fi

	lf -remote 'send reload'
}}

cmd bulkrename $vidir
cmd mkdir $mkdir -p "$(echo $* | tr ' ' '\ ')"

map x delete
map ` mark-load
map b $setbg "$f"
map R bulkrename
map P $libreoffice --convert-to pdf $fx
map Y $cat "$f" | xclip -sel c -t $(file --mime-type -b "$f")
map a chmod minus 
map A chmod plus
map s toggle 
map V push :!nvim<space>
map <c-n> push :mkdir<space>
