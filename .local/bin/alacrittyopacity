#!/bin/sh

line="$(grep -E "background_opacity:.[0-9]\.[0-9]" ~/.config/alacritty/alacritty.yml)"
value=$(echo $line | grep -Eo "[0-9]\.[0-9]$" )

increase(){
	if [ "$1" = 1.0 ] || [ "$1" = 0.9 ]; then
		newvalue="1.0"
	else
		newvalue="0$(echo $1 + 0.1 | bc )"
	fi
}

decrease(){
	if [ "$1" = 0.0 ] || [ "$1" = 0.1 ]; then
		newvalue="0.0"
	else
		newvalue="0$(echo $1 - 0.1 | bc )"
	fi
}

if [ "$1" = "-inc" ]; then
	increase $value
else
	decrease $value
fi
	newline="background_opacity: $newvalue"
	sed -i "s/${line}/${newline}/" ~/.config/alacritty/alacritty.yml
